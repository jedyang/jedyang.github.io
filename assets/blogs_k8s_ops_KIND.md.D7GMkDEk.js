import{_ as a,c as s,o as e,a2 as n}from"./chunks/framework.DukRYrIy.js";const i="/assets/logo.CeqMuF8-.png",g=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"blogs/k8s/ops/KIND.md","filePath":"blogs/k8s/ops/KIND.md","lastUpdated":1712134702000}'),p={name:"blogs/k8s/ops/KIND.md"},t=n('<p>KIND</p><p><img src="'+i+`" alt="kind"></p><p>kind是这样一个东西，它可以在docker容器里快速拉起一个k8s集群。</p><p>特别合适我现在需要测一个东西，但是手头上又没有合适的集群。</p><p>并且在linux，mac和windows环境下都可以使用。</p><h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h2><ol><li><p>需要go 1.16以上，我用的是 go 1.18</p></li><li><p>安装好docker或者podman或者nerdctl。我用的时docker <strong>23.0.6</strong></p></li><li><p>安装即可</p><p>使用的goproxy</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>go env -w  GOPROXY=https://goproxy.cn,direct</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>安装</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>go install sigs.k8s.io/kind@v0.22.0</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>安装到你的$GOPATH下的bin目录里了</p></li><li><p>注意，操作系统内核需要开启cgroups_namespace的支持</p><p>因为kind会使用--cgroupns private参数</p></li></ol><h2 id="用法" tabindex="-1">用法 <a class="header-anchor" href="#用法" aria-label="Permalink to &quot;用法&quot;">​</a></h2><h3 id="创建" tabindex="-1">创建 <a class="header-anchor" href="#创建" aria-label="Permalink to &quot;创建&quot;">​</a></h3><p>最简单的创建一个集群</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>kind create cluster</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="删除" tabindex="-1">删除 <a class="header-anchor" href="#删除" aria-label="Permalink to &quot;删除&quot;">​</a></h3><h3 id="修改k8s源码后-安装" tabindex="-1">修改k8s源码后，安装 <a class="header-anchor" href="#修改k8s源码后-安装" aria-label="Permalink to &quot;修改k8s源码后，安装&quot;">​</a></h3><p>修改后的k8s源码，需要放在这个目录$(go env GOPATH)/src/k8s.io/kubernetes</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>kind build node-image  # 将我们自己的k8s源码打出镜像</span></span>
<span class="line"><span>kind create cluster --image kindest/node:latest  # 安装我们自己的k8s源码镜像</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>这样在进行k8s定制化开发时就方便过了</p>`,16),l=[t];function o(r,d,c,h,u,b){return e(),s("div",null,l)}const k=a(p,[["render",o]]);export{g as __pageData,k as default};
